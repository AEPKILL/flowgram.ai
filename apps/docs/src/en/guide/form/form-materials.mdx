import { PackageManagerTabs } from '@theme';
import { MaterialDisplay } from '../../../../components/materials';

# Official Form Materials

## How to Use?

See: [Material Quickstart](/guide/materials/introduction.html)


## Currently Supported Component Materials

Documents are transferred to [Components](/guide/materials/components/type-selector.html)

## Currently Supported Effect Materials

### provideBatchInput

<MaterialDisplay
  imgs={[{ src: '/materials/provide-batch-input.png', caption: 'Type of item is automatically inferred based on preceding type.' }]}
  filePath="effects/provide-batch-input/index.ts"
  exportName="provideBatchInputEffect"
>
  provideBatchInputEffect is used for configuring loop batch input derivation. It automatically derives two variables based on the input:
  - item: Derived from the input variable array type, representing each item in the loop.
  - index: Numeric type, representing the iteration count.
</MaterialDisplay>

### autoRenameRef

<MaterialDisplay
  imgs={[{ src: '/materials/auto-rename-ref.gif', caption: 'When the query variable name changes, automatically rename references in downstream inputs.' }]}
  filePath="effects/auto-rename-ref/index.ts"
  exportName="autoRenameRefEffect"
>
  When the name of a preceding output variable changes:
  - All references to that variable in form items are automatically renamed.
</MaterialDisplay>

### syncVariableTitle

<MaterialDisplay
  imgs={[{ src: '/materials/sync-variable-title.gif'  }]}
  filePath="effects/sync-variable-title/index.ts"
  exportName="syncVariableTitle"
>
  The node name in the variable system changes automatically.
</MaterialDisplay>

### provideJsonSchemaOutputs

<MaterialDisplay
  imgs={[{ src: '/materials/json-schema-editor.png' }]}
  filePath="effects/provide-json-schema-outputs/index.ts"
  exportName="provideJsonSchemaOutputs"
>
  The node JsonSchema is synchronized to the node output of the variable system, so that the downstream of the node can be selected.
</MaterialDisplay>

## Currently Supported FormPlugin Materials

### batch-outputs-plugin

<MaterialDisplay
  imgs={[
    { src: '/materials/batch-outputs-plugin-1.png', caption: 'The plugin limits the loop scope to only reference variables of nodes within the loop' },
    { src: '/materials/batch-outputs-plugin-2.png', caption: 'Downstream nodes are automatically inferred based on the process' }
  ]}
  filePath="form-plugins/batch-outputs-plugin/index.ts"
  exportName="createBatchOutputsFormPlugin"
>
  Loop output plugin, needs to be used with the `BatchOutputs` material

  ```typescript
  const formMeta = {
    plugins: [createBatchOutputsFormPlugin({ outputKey: 'loopOutputs' })],
  }
  ```
</MaterialDisplay>


### infer-inputs-plugin

<MaterialDisplay
  imgs={[
    { src: '/materials/infer-inputs-plugin.png', caption: 'inputs is the JsonSchema type of inputsValues' },
  ]}
  filePath="form-plugins/infer-inputs-plugin/index.ts"
  exportName="inferInputsPlugin"
>
  When passing to the backend, the JsonSchema type of inputsValues is automatically calculated based on the variable engine

  ```typescript
  const formMeta = {
    plugins: [
      // headers stores the type definition of headersValues
      createInferInputsPlugin({ sourceKey: 'headersValues', targetKey: 'headers' }),
      // params stores the type definition of paramsValues
      createInferInputsPlugin({ sourceKey: 'paramsValues', targetKey: 'params' }),
    ],
  }
  ```
</MaterialDisplay>
